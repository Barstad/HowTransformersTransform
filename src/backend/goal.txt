We are going to build a frontend and a backend. The backend will be a fastAPI app that will serve data to the frontend. The frontend will be a web app that will display the visualization.

We are going to build a nice web app to visualize how a transformer transforms it inputs. The idea about the visualization is to visualize how a token is represented by the model by using relative similarities. So, for instance, in the embedding matrix of the model Apple and Iphone will probably have a similar encoding, but in the sentence "I ate an Apple" the encoding of Apple will move into a fruit space, and away from phones. I want to visualize this in a few different ways. 

1. I want to the app to display a sentence. However, the sentence should be split up into tokens, and each token should be clickable. When clicking a token, we should visualize the similarity to each of the other tokens in the sentece, and trigger some additional visualizations. When I click another token, it should update and show how similar to other tokens in the sequence is to that token, as well as update the other visualizations. The data to calculate the similarities from we will get from the model. Initially we will use the embedding matrix of the model to get the token representations. Then we will have an option to choose which layer to use. We will then use the representation from that layer, ie the hidden states, as the representation. As we move through the network layers, the representations will change, and we will display how the wokens relative meanings change.
2. To show the moving throgh the embedding space, we will have a umap representation in 2d of the embedding matrix, and plot this in 2d. We will then have a way of displaying how the different embeddings from the model changes as we move through the layers. It should be some kind of path, where we start out as the embedding from the embedding matrix of the model, and as we move through the layers we get the umap representation of the hidden state and plot it into the overall representaion with a standout color, and a line from the previous position. This will create a path through space.
3. Since the tokens change meaning as we move through the layers of the network, a nice way to visualize that meaning is to get a wordcloud type visual, where the size depends on the similarity of other tokens in the vocab. So for our Apple example, we might have iphone, ipad etc. as the most similar, and then we eventually end up with maybe organge, pears, etc. This shows how the meaning changes.